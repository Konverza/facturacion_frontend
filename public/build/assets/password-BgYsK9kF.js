import{s as o}from"./alert-Cg1FgE4f.js";$(document).ready(function(){const l=/[a-z]/,d=/[A-Z]/,c=/[0-9]/,p=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;function i(s){let r=0,e=[],n=!0;$("#password-requirements").empty(),s.length>=8?(e.push("Longitud mínima de 8 caracteres"),r+=1):$("#password-requirements").append("<li class='text-red-500 font-dine-r'>Longitud mínima de 8 caracteres</li>"),l.test(s)?(e.push("Contiene letras minúsculas"),r+=1):$("#password-requirements").append("<li class='text-red-500 font-dine-r'>Contiene letras minúsculas</li>"),d.test(s)?(e.push("Contiene letras mayúsculas"),r+=1):$("#password-requirements").append("<li class='text-red-500 font-dine-r'>Contiene letras mayúsculas</li>"),c.test(s)?(e.push("Contiene números"),r+=1):$("#password-requirements").append("<li class='text-red-500 font-dine-r'>Contiene números</li>"),p.test(s)?(e.push("Contiene caracteres especiales"),r+=1):$("#password-requirements").append("<li class='text-red-500 font-dine-r'>Contiene caracteres especiales</li>"),e.forEach(function(m){$("li:contains('"+m+"')").removeClass("text-red-500").addClass("text-green-500")}),e.length===5&&$("#password-requirements").append('<li class="text-green-500">Contraseña segura</li>');let a=0,t="bg-red-500";switch(r){case 0:case 1:a=20,t="bg-red-500";break;case 2:a=40,t="bg-orange-500";break;case 3:a=60,t="bg-yellow-500";break;case 4:a=80,t="bg-blue-500";break;case 5:a=100,t="bg-green-500";break}return $("#password-strength-bar").css("width",`${a}%`).removeClass().addClass(`h-full rounded ${t}`),a===100?n=!0:n=!1,n}$("#new-password").on("keyup",function(){i($(this).val())}),$("#confirm-password").on("keyup",function(){const s=$(this).val();$("#new-password").val()===s?($("#confirm-password").removeClass("is-invalid").addClass("is-valid"),$("#password-match-message").text("")):($("#confirm-password").addClass("is-invalid").removeClass("is-valid"),$("#password-match-message").text("Las contraseñas no coinciden"))}),$("#password").on("keyup",function(){$("#password").val()!==""&&($("#password").removeClass("is-invalid"),$("#password-error-message").text(""))}),$("#resetPasswordButton").on("click",function(){const s=$(this).closest("form");let r=i($("#new-password").val());$("#confirm-password").val()!==$("#new-password").val()?r=!1:($("#confirm-password").removeClass("is-invalid"),$("#password-match-message").text("")),r?$.ajax({url:s.attr("action"),method:s.attr("method"),data:s.serialize(),success:function(e){e.success?$(".confirmPasswordModal").removeClass("hidden").addClass("flex"):o("error","Error",e.error)},error:function(e){console.log(e),o("error","Error",e.responseJSON.error)}}):o("error","Error","Ingresa una contraseña válida y asegúrate de que las contraseñas coincidan")})});
